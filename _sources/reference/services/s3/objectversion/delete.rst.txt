:doc:`ObjectVersion <index>` / Action / delete

******
delete
******



.. py:method:: S3.ObjectVersion.delete(**kwargs)

  

  Removes the null version (if there is one) of an object and inserts a delete marker, which becomes the latest version of the object. If there isn't a null version, Amazon S3 does not remove any objects but will still respond that the command was successful.

   

  To remove a specific version, you must be the bucket owner and you must use the version Id subresource. Using this subresource permanently deletes the version. If the object deleted is a delete marker, Amazon S3 sets the response header, ``x-amz-delete-marker``, to true.

   

  If the object you want to delete is in a bucket where the bucket versioning configuration is MFA Delete enabled, you must include the ``x-amz-mfa`` request header in the DELETE ``versionId`` request. Requests that include ``x-amz-mfa`` must use HTTPS.

   

  For more information about MFA Delete, see `Using MFA Delete <https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingMFADelete.html>`__. To see sample requests that use versioning, see `Sample Request <https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectDELETE.html#ExampleVersionObjectDelete>`__.

   

  You can delete objects by explicitly calling DELETE Object or configure its lifecycle ( `PutBucketLifecycle <https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketLifecycle.html>`__) to enable Amazon S3 to remove them for you. If you want to block users or accounts from removing or deleting objects from your bucket, you must deny them the ``s3:DeleteObject``, ``s3:DeleteObjectVersion``, and ``s3:PutLifeCycleConfiguration`` actions.

   

  The following action is related to ``DeleteObject``:

   

  
  * `PutObject <https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutObject.html>`__
  

  

  See also: `AWS API Documentation <https://docs.aws.amazon.com/goto/WebAPI/s3-2006-03-01/DeleteObject>`_  


  **Request Syntax**
  ::

    response = object_version.delete(
        MFA='string',
        RequestPayer='requester',
        BypassGovernanceRetention=True|False,
        ExpectedBucketOwner='string',
        ChecksumAlgorithm='CRC32'|'CRC32C'|'SHA1'|'SHA256'|'CRC64NVME'
    )
    
  :type MFA: string
  :param MFA: 

    The concatenation of the authentication device's serial number, a space, and the value that is displayed on your authentication device. Required to permanently delete a versioned object if versioning is configured with MFA delete enabled.

    

  
  :type RequestPayer: string
  :param RequestPayer: Ignored by COS if present.

  
  :type BypassGovernanceRetention: boolean
  :param BypassGovernanceRetention: Ignored by COS if present.

  
  :type ExpectedBucketOwner: string
  :param ExpectedBucketOwner: Ignored by COS if present.

  
  :type ChecksumAlgorithm: string
  :param ChecksumAlgorithm: 

    Indicates the algorithm used to create the checksum for the object when you use the SDK. This header will not provide any additional functionality if you don't use the SDK. When you send this header, there must be a corresponding ``x-amz-checksum-algorithm`` or ``x-amz-trailer`` header sent. Otherwise, Amazon S3 fails the request with the HTTP status code ``400 Bad Request``.

     

    For the ``x-amz-checksum-algorithm`` header, replace ``algorithm`` with the supported algorithm from the following list:

     

    
    * ``CRC32``
     
    * ``CRC32C``
     
    * ``CRC64NVME``
     
    * ``SHA1``
     
    * ``SHA256``
    

     

    For more information, see `Checking object integrity <https://docs.aws.amazon.com/AmazonS3/latest/userguide/checking-object-integrity.html>`__ in the *Amazon S3 User Guide*.

     

    If the individual checksum value you provide through ``x-amz-checksum-algorithm`` doesn't match the checksum algorithm you set through ``x-amz-sdk-checksum-algorithm``, Amazon S3 fails the request with a ``BadDigest`` error.

     

    If you provide an individual checksum, Amazon S3 ignores any provided ``ChecksumAlgorithm`` parameter.

    

  
  
  :rtype: dict
  :returns: 
    
    **Response Syntax**

    
    ::

      {
          'DeleteMarker': True|False,
          'VersionId': 'string',
          'RequestCharged': 'requester'
      }
      
    **Response Structure**

    

    - *(dict) --* 
      

      - **DeleteMarker** *(boolean) --* 

        Specifies whether the versioned object that was permanently deleted was (true) or was not (false) a delete marker.

        
      

      - **VersionId** *(string) --* 

        Returns the version ID of the delete marker created as a result of the DELETE operation.

        
      

      - **RequestCharged** *(string) --* Not returned by COS.
  